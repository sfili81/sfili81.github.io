import{_ as y,o,c as u,a as t,t as r,b as _,F as c,r as h,w as d,v as m,d as v,e as x,f as q,g as b}from"./index-b583e683.js";const g={data(){return{title:"Quiz ",questions:"",quizReady:!1,art:"",currentIndexQuestion:"",lastIndexQuestion:"",prevIndexQuestion:0,total:0,isFinish:!1,categories:[{text:"Any",value:""},{text:"Hystory",value:"23"},{text:"Sports",value:"21"},{text:"Geography",value:"22"}],difficulty:[{text:"Any",value:""},{text:"Easy",value:"easy"},{text:"Medium",value:"medium"},{text:"Hard",value:"hard"}],categoryQuestions:"",numberOfQuestions:5,difficultQuestion:""}},methods:{async getQuestions(i){await fetch(i).then(e=>e.json()).then(e=>{console.log(e.results),this.questions=e.results})},async setArray(i){console.log(this.questions),await this.getQuestions(i);for(let e=0;e<this.questions.length;e++)this.questions[e].answers=this.questions[e].incorrect_answers,this.questions[e].answers.push(this.questions[e].correct_answer),console.log(this.questions[e]),this.questions[e].answers=this.questions[e].answers.map(l=>({value:l,sort:Math.random()})).sort((l,f)=>l.sort-f.sort).map(({value:l})=>l);this.currentIndexQuestion=0,this.lastIndexQuestion=this.questions.length,this.quizReady=!0},next(){this.currentIndexQuestion+1<this.questions.length?this.currentIndexQuestion++:this.isFinish=!0},prev(){this.currentIndexQuestion>0&&this.currentIndexQuestion--},checkAnswer(i,e){i===this.questions[e].correct_answer&&this.total++,this.next()},newQuiz(){this.total=0,this.isFinish=!1,this.quizReady=!1,this.questions=null},createQuiz(){let i="https://opentdb.com/api.php?",e;this.numberOfQuestions==="0"||this.numberOfQuestions===""?e=5:e=this.numberOfQuestions,i+="amount="+e,this.categoryQuestions!==""&&(i+="&category="+this.categoryQuestions.toLowerCase()),this.difficultQuestion!==""&&(i+="&difficulty="+this.difficultQuestion.toLowerCase()),console.log(i),this.setArray(i)}},mounted(){}},w={key:0},z={class:"wrapper-question"},I=["innerHTML"],k={class:"wrapper-answer"},C=["onClick"],S=["innerHTML"],T={key:1},A=t("div",{class:"shadow p-3 mb-5 bg-body rounded"},[t("h3",null,"Congratulations!"),t("p",null,"You have finished the quiz")],-1),M={class:"wrapper-buttons"},L={key:1},O=t("label",null,"Select number of questions",-1),V=t("br",null,null,-1),F=t("option",{disabled:"",value:""},"Select Difficulty: ",-1),H=["value"],N=t("br",null,null,-1),D=t("br",null,null,-1),R=t("option",{disabled:"",value:""},"Select Category: ",-1),U=["value"],B=t("br",null,null,-1),E=t("br",null,null,-1);function P(i,e,l,f,n,a){return o(),u(c,null,[t("h3",null,r(n.title),1),n.quizReady?(o(),u("div",w,[_(" This quiz has "+r(this.lastIndexQuestion)+" questions ",1),n.isFinish?(o(),u("div",T,[A,_(" , the total score is: "+r(n.total)+" ",1),t("p",{onClick:e[0]||(e[0]=s=>a.newQuiz())},"Start a new Quiz")])):(o(!0),u(c,{key:0},h(n.questions,(s,p)=>(o(),u("div",z,[d(t("div",null,[t("p",null,"Difficult: "+r(s.difficulty),1),t("p",null,"Category: "+r(s.category),1),t("h4",{class:"question",innerHTML:s.question},null,8,I),t("ul",k,[(o(!0),u(c,null,h(s.answers,(Q,K)=>(o(),u("li",{onClick:W=>a.checkAnswer(Q,p)},[t("span",{innerHTML:Q},null,8,S)],8,C))),256))])],512),[[x,p===n.currentIndexQuestion]])]))),256)),t("div",M,[t("button",{onClick:e[1]||(e[1]=s=>a.prev())}," Prev "),t("button",{onClick:e[2]||(e[2]=s=>a.next())}," Next ")])])):(o(),u("div",L,[O,d(t("input",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=s=>n.numberOfQuestions=s)},null,512),[[m,n.numberOfQuestions]]),V,d(t("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=s=>n.difficultQuestion=s)},[F,(o(!0),u(c,null,h(n.difficulty,s=>(o(),u("option",{key:s.value,value:s.value},r(s.text),9,H))),128))],512),[[v,n.difficultQuestion]]),N,D,d(t("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=s=>n.categoryQuestions=s)},[R,(o(!0),u(c,null,h(n.categories,s=>(o(),u("option",{key:s.value,value:s.value},r(s.text),9,U))),128))],512),[[v,n.categoryQuestions]]),B,E,t("button",{class:"btn-sq",onClick:e[6]||(e[6]=s=>a.createQuiz())}," Start Quiz")])),_(" Tnx To https://opentdb.com for the API questions ")],64)}const j=y(g,[["render",P]]),G={components:{Quiz:j}},J=t("header",{class:"d-flex"},[t("h1",null,"TEST QUIZ API JSON")],-1),Y={class:"wrapper-quiz"};function Z(i,e,l,f,n,a){const s=q("Quiz");return o(),u(c,null,[J,t("div",Y,[b(s)])],64)}const $=y(G,[["render",Z]]);export{$ as default};
